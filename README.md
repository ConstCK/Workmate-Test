# Проект "Выставка кошек" на Django, DRF с использованием  Docker, pytest

Скопируйте проект к себе на ПК при помощи: git clone https://github.com/ConstCK/Workmate-Test.git.
Перейдите в папку проекта.
В терминале создайте виртуальное окружение (например python -m venv venv) и активируйте его (venv\scripts\activate).
Установите все зависимости при помощи pip install -r requirements.txt.
Создайте файл .env в каталоге проекта и пропишите в нем настройки по примеру .env.example.
Ключ для Django можно сгенерировать по пути https://djecrety.ir/.
Запустите сервер из каталога проекта (python manage.py runserver)

# EndPoints:
**_Примечание: Для запросов лучше использовать Postman!!!_**

## Администрирование

http://127.0.0.1:8000/admin/ - Доступ к панели администрирования. Используйте admin для имени и пароля.

## AUTH API

http://127.0.0.1:8000/api-auth/signup/ - Регистрация нового пользователя по имени и паролю.
Передаем username, password в body запроса.

http://127.0.0.1:8000/api-auth/login/ - Вход в аккаунт уже зарегистрированного пользователя.
Передаем username, password в body запроса.

http://127.0.0.1:8000/api-auth/logout/ - Выход из аккаунта. Передаем refresh_token в body запроса.

http://127.0.0.1:8000/api-auth/refresh/ - Получение нового access token при помощи refresh token.
Передаем refresh_token в body запроса.

## MAIN API
**_Примечание: для большинства операция нужна авторизация. Для этого в заголовках запроса (headers) 
используйте ("Authorization": "Bearer Ваш access token, полученный при регистрации/ авторизации")_**

http://127.0.0.1:8000/api/cats/ - Получение всех/указанной породы/ Создание питомцев.
При использовании query params (breed_id= ID породы) получение питомцев породы указанного id.
http://127.0.0.1:8000/api/cats/id/ - Получение/ Изменение/ Удаление питомца с указанным id. 
http://127.0.0.1:8000/api/breeds/ - Получение/ Добавление/ пород питомцев. 
http://127.0.0.1:8000/api/voting/id/ - Выставление оценки питомцу с указанным id.
http://127.0.0.1:8000/schema/swagger-ui/ - Получение Swagger документации. 
http://127.0.0.1:8000/schema/redoc/ - Получение Swagger документации в redoc формате. 

# Запуск приложения в контейнере:

**Запустите Docker Desktop на пк**
**В консоли из каталога проекта запустите "docker-compose up" для запуска в контейнере**

# Запуск тестов

**Запустите Docker Desktop на пк**
**В консоли из каталога проекта запустите "docker-compose --file tests.yaml up" для запуска в контейнере**

